{% extends "base.html" %}

{% block title %}
<div class="container mt-5 text-center">
    <h1>User Profile</h1>
</div>
{% endblock %}

{% block content %}
<div class="container">
    <div class="form-container">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}
        <form method="POST" action="{{ url_for('profile') }}">
            <div class="form-group mb-2">
                <label for="fname">First Name</label>
                <input type="text" class="form-control" id="fname" name="fname" value="{{ current_user['fname'] }}" required>
            </div>
            <div class="form-group mb-2">
                <label for="lname">Last Name</label>
                <input type="text" class="form-control" id="lname" name="lname" value="{{ current_user['lname'] }}" required>
            </div>
            <div class="form-group mb-2">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" name="email" value="{{ current_user['email'] }}" readonly>
            </div>
            <div class="form-group mb-2">
                <label for="phone">Phone</label>
                <input type="text" class="form-control" id="phone" name="phone" value="{{ current_user['phone'] }}" required>
            </div>
            <div class="form-group mb-2">
                <label for="address">Address</label>
                <input type="text" class="form-control" id="address" name="address" value="{{ current_user['address'] }}" required>
            </div>
            <div class="form-group mb-4">
                <label for="join_date">Join Date</label>
                <input type="text" class="form-control" id="join_date" name="join_date" value="{{ current_user['join_date'] }}" readonly>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Update</button>
        </form>
    </div>
</div>
{% endblock %}